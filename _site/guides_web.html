<!DOCTYPE html>
<html>
<head>
    <!-- the google_analytics_id gets auto inserted from the config file 



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','G-5LNVJND9XP','auto');ga('require','displayfeatures');ga('send','pageview');</script>


-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5LNVJND9XP"></script>
<script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-5LNVJND9XP');
</script>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Flutter Sound on web.">
<meta name="keywords" content="flutter_soundweb,  Flutter, Web">
<title>&tau; on web | The Dank u Documentation</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-green.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="doc" href="/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse"
                data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>


            <a href="index.html"> <img src="images/tau/tau26.png" width="20%" height="20%" /> </a>
            <!--<img class="inline" src="images/tau7.svg" alt="tau" />
-->
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#" title="Show the left navigation bar"><i id="tg-sb-icon"
                            class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->

                
                

                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Run<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="/toto" target="_blank" rel="noopener">τ-dio ex.</a></li>
                        
                        
                        
                        <li><a href="/titi" target="_blank" rel="noopener">Flutter Sound ex.</a></li>
                        
                        
                        
                        <li><a href="/titi" target="_blank" rel="noopener">τ ex.</a></li>
                        
                        
                        
                        <li><a href="/titi" target="_blank" rel="noopener">τ-graph engine</a></li>
                        
                        
                        
                        <li><a href="/titi" target="_blank" rel="noopener">τ-cpal ex.</a></li>
                        
                        
                        
                        <li><a href="/titi" target="_blank" rel="noopener">Run e-τ</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">News<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="news.html">News</a></li>
                        
                        
                        
                        <li><a href="https://github.com/canardoux/tau-doc/projects/1" target="_blank" rel="noopener">Roadmap</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Repo<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://github.com/canardoux/taudio" target="_blank" rel="noopener">τ-dio</a></li>
                        
                        
                        
                        <li><a href="https://github.com/canardoux/flutter_sound" target="_blank" rel="noopener">Flutter Sound</a></li>
                        
                        
                        
                        <li><a href="https://github.com/canardoux/taugraph" target="_blank" rel="noopener">τ-graph</a></li>
                        
                        
                        
                        <li><a href="https://github.com/canardoux/tau" target="_blank" rel="noopener">τ</a></li>
                        
                        
                        
                        <li><a href="https://github.com/canardoux/taucpal" target="_blank" rel="noopener">τ-cpal</a></li>
                        
                        
                        
                        <li><a href="https://github.com/canardoux/etau" target="_blank" rel="noopener">e-τ</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">pub.dev<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://pub.dev/packages/taudio" target="_blank" rel="noopener">τ-dio</a></li>
                        
                        
                        
                        <li><a href="https://pub.dev/packages/flutter_sound" target="_blank" rel="noopener">Flutter Sound</a></li>
                        
                        
                        
                        <li><a href="https://pub.dev/packages/tau" target="_blank" rel="noopener">τ</a></li>
                        
                        
                        
                        <li><a href="https://pub.dev/packages/taugraph" target="_blank" rel="noopener">τ-graph</a></li>
                        
                        
                        
                        <li><a href="https://pub.dev/packages/taucpal" target="_blank" rel="noopener">τ-cpal</a></li>
                        
                        
                        
                        <li><a href="https://pub.dev/packages/etau" target="_blank" rel="noopener">e-τ</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Sharing<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://tau-t7l7803.slack.com" target="_blank" rel="noopener">Slack</a></li>
                        
                        
                        
                        <li><a href="https://app.element.io/#/room/#tau:matrix.org" target="_blank" rel="noopener">Element</a></li>
                        
                        
                        
                        <li><a href="https://discord.com/channels/799683099473870848/799683099473870852" target="_blank" rel="noopener">Discord</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">The τ family<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="td-README.html">τ-dio</a></li>
                        
                        
                        
                        <li><a href="fs-README.html">Flutter Sound</a></li>
                        
                        
                        
                        <li><a href="tau-README.html">τ</a></li>
                        
                        
                        
                        <li><a href="tgr-README.html">τ-graph</a></li>
                        
                        
                        
                        <li><a href="tau-README.html">τ-cpal</a></li>
                        
                        
                        
                        <li><a href="etau-README.html">e-τ</a></li>
                        
                        
                    </ul>
                </li>
                
                
                
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:larpoux@canardoux.xyz?subject=The Dank u Documentation feedback&body=I have some feedback about the &tau; on web page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="&amp;tau; on web">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">Dank u - 0.0.2</li>
  
  
  
      
  
  <li>
      <a title="Overview" href="#">Overview</a>
      <ul>
          
          
          
          <li><a title="Get started" href="index.html">Get started</a></li>
          
          
          
          
          
          
          <li><a title="Introduction" href="mydoc_introduction.html">Introduction</a></li>
          
          
          
          
          
          
          <li><a title="Support" href="mydoc_support.html">Support</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Release Notes" href="#">Release Notes</a>
      <ul>
          
          
          
          <li><a title="6.0 Release notes" href="mydoc_release_notes_60.html">6.0 Release notes</a></li>
          
          
          
          
          
          
          <li><a title="5.0 Release notes" href="mydoc_release_notes_50.html">5.0 Release notes</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Links" href="#">Links</a>
      <ul>
          
          
          
          <li><a title="Migration" href="links_migration.html">Migration</a></li>
          
          
          
          
          
          
          <li><a title="Problem Report" href="https://github.com/Canardoux/tau/issues.html" target="_blank" rel="noopener">Problem Report</a></li>
          
          
          
          
          
          
          <li><a title="Roadmap" href="https://github.com/Canardoux/tau/projects/3.html" target="_blank" rel="noopener">Roadmap</a></li>
          
          
          
          
          
          
          <li><a title="Contributions" href="links_contribution.html">Contributions</a></li>
          
          
          
          
          
          
          <li><a title="License" href="links_license.html">License</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Admin" href="#">Admin</a>
      <ul>
          
          
          
          <li><a title="Commento" href="http://canardoux.xyz:8090/login" target="_blank" rel="noopener">Commento</a></li>
          
          
          
          
          
          
          <li><a title="Dank u Doc Stats" href="https://analytics.google.com/analytics/web/#/p276308667/reports/defaulthome" target="_blank" rel="noopener">Dank u Doc Stats</a></li>
          
          
          
          
          
          
          <li><a title="Teacher's stats" href="https://zozo.com" target="_blank" rel="noopener">Teacher's stats</a></li>
          
          
          
          
          
          
          <li><a title="Developer's stats" href="https://zazi.com" target="_blank" rel="noopener">Developer's stats</a></li>
          
          
          
          
          
          
          <li><a title="Dank u Web stats" href="https://momo.com" target="_blank" rel="noopener">Dank u Web stats</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Troubleshooting" href="#">Troubleshooting</a>
      <ul>
          
          
          
          <li><a title="Troubleshooting" href="mydoc_troubleshooting.html">Troubleshooting</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Tag archives" href="#">Tag archives</a>
      <ul>
          
          
          
          <li><a title="Tag archives overview" href="mydoc_tag_archives_overview.html">Tag archives overview</a></li>
          
          
          
          <li class="subfolders">
              <a title="Tag archive pages" href="#">Tag archive pages</a>
              <ul>
                  
                  
                  
                  <li><a title="Formatting pages" href="tag_formatting.html">Formatting pages</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Navigation pages" href="tag_navigation.html">Navigation pages</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Content types pages" href="tag_content_types.html">Content types pages</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Publishing pages" href="tag_publishing.html">Publishing pages</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Special layout pages" href="tag_special_layouts.html">Special layout pages</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Collaboration pages" href="tag_collaboration.html">Collaboration pages</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Troubleshooting pages" href="tag_troubleshooting.html">Troubleshooting pages</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">&tau; on web</h1>
</div>



<div class="post-content">

   
    <div class="summary">Flutter Sound on web.</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    

    <a target="_blank" rel="noopener" href="https://github.com/Canardoux/danku/tree/master/doc/en/pages/fs/guides/guides_tau_on_web.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>

    

   <h1 id="flutter-sound-on-web">Flutter Sound on Web</h1>

<p>Flutter Sound is now supported by Flutter Web (with some limitations). Please <a href="flutter_sound_install.html#flutter-web">go to there</a> to have informations on how to setup your App for web.</p>

<p>You can play with <a href="pages/flutter-sound/web_example/index.html">this live demo on the web</a>.</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">NoSuchMethodError:</span> <span class="n">tried</span> <span class="n">to</span> <span class="n">call</span> <span class="n">a</span> <span class="n">non</span><span class="o">-</span><span class="n">function</span><span class="p">,</span> <span class="n">such</span> <span class="k">as</span> <span class="kc">null</span><span class="o">:</span> <span class="s">'dart.global.newRecorderInstance'</span>
</code></pre></div></div>

<div class="alert alert-success" role="alert"><i class="fa fa-check-square-o"></i> <b>Tip:</b> If you get this error above, it probably means that the required javascript sources are not correctly loaded by your index.html file.
Double check if your javascript source files are correct.
</div>

<h2 id="player">Player</h2>

<ul>
  <li>Flutter Sound can play buffers with <code class="language-plaintext highlighter-rouge">startPlayerFromBuffer()</code>, exactly like with other platforms. Please refer to <a href="guides_codec">the codecs compatibility table</a></li>
  <li>Flutter Sound can play remote URL with <code class="language-plaintext highlighter-rouge">startPlayer()</code>, exactly like with other platforms. Again, refer to <a href="guides_codec">the codecs compatibility table</a></li>
  <li>Playing from a Dart Stream with <code class="language-plaintext highlighter-rouge">startPlayerFromStream()</code>is not yet implemented.</li>
  <li>Playing with UI is obviously not implemented, because we do not have control to the lock screen inside a web app.</li>
  <li>Flutter Sound does not have control of the audio-focus.</li>
</ul>

<p>The web App does not have access to any file system. But you can store an URL into your local SessionStorage, and use the key as if it was an audio file. This is compatible with the Flutter Sound recorder.</p>

<h2 id="recorder">Recorder</h2>

<p>Flutter Sound on web cannot have access to any file system. You can use <code class="language-plaintext highlighter-rouge">startRecorder()</code> like others platforms, but the recorded data will be stored inside an internal HTTP object. When the recorder is stopped, <code class="language-plaintext highlighter-rouge">startRecorder</code> stores the URL of this object into your local sessionStorage.</p>

<p>Please refer to <a href="guides_codec">the codecs compatibility table</a> : Flutter Sound Recorder does not work on Safari nor iOS.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>await startRecorder(codec: opusWebM, toFile: 'foo'); // the LocalSessionStorage key `foo` will contain the URL of the recorded object
...
await stopRecorder();
await startPlayer('foo'); // ('foo' is the LocalSessionStorage key of the recorded sound URL object)
</code></pre></div></div>

<p>Limitations :</p>

<ul>
  <li>Recording to a Dart Stream is not yet implemented</li>
  <li>Flutter Sound does not have access to the audio focus</li>
  <li>Flutter Sound does not provide the audio peak level in the Recorder Progress events.</li>
</ul>

<h2 id="ffmpeg">FFmpeg</h2>

<p>Actually, Flutter Sound on Web does not support FFmpeg. We are still actually not sure if we should support it or if the code weight would be too high for a Web App.</p>

<h2 id="cors">CORS</h2>

<p>Web Browsers have a security system which is called <code class="language-plaintext highlighter-rouge">CORS</code>. <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">See here</a>.</p>

<p>If you try to play a remote sound and have a security alert, it can mean that your server did not put the correct Header
and that you must check the behavior of your server.</p>

<p>For example, to run correctly the Demo App, and play a remote AAC sound which is stored on the <a href="https://www.canardoux.xyz/tau_sound/web_example/sample.aac">canardoux.xyz host</a>,
I had to add :</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Header set Access-Control-Allow-Origin "*"
</code></pre></div></div>
<p>in the configuration file of my Apache2 server.
(<a href="https://enable-cors.org/server_apache.html">see here</a>)</p>

<p>After adding this parameter, it is now possible to do :</p>
<ul>
  <li><a href="https://www.canardoux.xyz/tau_sound/web_example/index.html">call the example app</a></li>
  <li>Enter the “Demo example”</li>
  <li>Select “media = Remote URL”</li>
  <li>Select “Codec = AAC”</li>
  <li>Play</li>
</ul>

<p>This will play correctly the remote AAC file.</p>


    <div class="tags">
        
        <b>Tags: </b>
        
        
        
        
        
        
        
    </div>


<script defer src="https://commento.canardoux.xyz/js/commento.js"></script>
<div id="commento"></div>
<noscript>Please enable JavaScript to load the comments.</noscript>



</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2024 Canardoux. All rights reserved. <br />
 Site last generated: Aug 8, 2024 <br />
<p><img src="images/danku32.png" alt="Danku"  max-width="10" width="20%" height="20%"/></p>/></p>
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>
</html>
